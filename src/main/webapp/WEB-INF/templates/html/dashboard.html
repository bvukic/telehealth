<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="si"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.springframework.org/security/tags">
    <head>
        <meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Namizje</title>
        <link href="/static/web/css/bootstrap.min.css"
              th:href="@{/static/web/css/bootstrap.min.css}"
              rel="stylesheet" media="screen" />
        <link href="/static/web/css/chartist.min.css"
              th:href="@{/static/web/css/chartist.min.css}"
              rel="stylesheet" media="screen" />
        <link href="/static/web/css/theme.css"
              th:href="@{/static/web/css/theme.css}"
              rel="stylesheet" media="screen" />        
        <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,700"
              rel="stylesheet' type='text/css"/>
        <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,700"
              rel="stylesheet' type='text/css"/>
        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
        <script src="/static/web/js/jquery.min.js"
        th:src="@{/static/web/js/jquery.min.js}"></script>
        <script src="/static/web/js/bootstrap.min.js"
        th:src="@{/static/web/js/bootstrap.min.js}"></script>
    </head>
    <body>
        <!-- Import navbar -->
        <nav th:replace="partial/header.html :: navbar"></nav>

        <div class="container">
            <div class="row">
                <div class="col-lg-2"  th:fragment="sidebar">
                    <div th:replace="partial/sidebar.html :: sidebar"></div>
                </div>
                <div class="col-lg-10">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="page-header">
                                <h3>Stanje <small>Hitri pregled stanja</small></h3>
                            </div>
                            <script src="/static/web/js/chartist.min.js"
                                    th:src="@{/static/web/js/chartist.min.js}"></script>					

                            <div class="row" th:each="panel : ${dashbordChartPanels}">
                                 <div class="col-lg-12">
                                    <div class="panel panel-default">
                                        <div class="panel-heading" th:text="${panel.parameter.name}">Paramter name</div>
                                        <div class="panel-body">
                                            <div th:class="'ct-chart-' + ${panel.parameter.id}" class="ct-chart"></div>
                                            <script type="text/javascript" th:inline="javascript">
                                                new Chartist.Line(
                                                        '.ct-chart-' + /*[[${panel.parameter.id}]]*/ 0,
                                                        /*[[${panel.data}]]*/ {labels: [], series: [[]]},
                                                        {
                                                            fullwidth: true,
                                                            hartPadding: {
                                                                right: 40
                                                            }
                                                        }
                                                );
                                            </script>
                                        </div>
                                    </div>
                                </div>
                            </div>





                            <div class="panel panel-default" th:switch="${#authentication}? ${#authorization.expression('isAuthenticated()')} : ${false}">
                                <div class="panel-body" th:case="${false}">
                                    User is not logged in. <br/>
                                    <a class="btn btn-primary" href="#" th:href="@{/login}">
                                        <span class="glyphicon glyphicon-log-in"> Login</span>
                                    </a>
                                </div>
                                <div class="panel-body" th:case="${true}">
                                    Logged in user.
                                </div>
                                <div class="panel-body" th:case="*">
                                    Should never happen, but who knows...
                                </div>
                            </div>
                            <div sec:authorize="hasRole('ROLE_ADMIN')">
                                This content is only shown to administrators. <br/>
                                <a href="users">Users Administration Page</a>
                            </div>
                            <div sec:authorize="hasRole('ROLE_USER')">
                                This content is only shown to users.
                            </div>
                            Logged user: <span sec:authentication="name">Guest</span>
                            Roles: <span sec:authentication="principal.authorities">[ROLE_ANONYMOUS]</span>
                        </div>
                    </div>
                </div>           
            </div>
        </div>
        <footer th:replace="partial/footer.html :: footer"></footer>
    </body>
</html>
